!function(H){"use strict";var o="ht",C=H[o],a=C.Default,G=Math,F=(G.PI,G.sin,G.cos,G.atan2,G.sqrt,G.max),V=G.floor,l=(G.round,G.ceil),K=C.Shape,x=(C.Edge,C.List),$=C.Style,R=C.graph,w=a.getInternal(),E=w.ui(),f=null,M="prototype",p=H.clearInterval,A=H.setInterval,s=function(x){var J=x.data,U=this.dm();if(J&&"add"===x.kind){var r=U.$1c,v=J instanceof K?"shape.":"edge.";r&&J.s(v+"dash.flow")&&r.indexOf(J)<0&&r.push(J)}"clear"===x.kind&&(U.$1c=[])},q=function(C){var F=C.property,N=C.data,k=C.newValue,J=this.dm().$1c,U=N instanceof K?"s:shape.dash.flow":"s:edge.dash.flow";if(J&&F===U)if(k)J.indexOf(N)<0&&J.push(N);else for(var h=J.length,t=0;h>t;t++)if(J[t]===N){J.splice(t,1);break}},k=R.GraphView[M],U=E.EdgeUI[M],J=E.ShapeUI[M],d=J._80o,v=U._80o,e=C.DataModel[M],P=e.prepareRemove,i=k.setDataModel;$["edge.dash.flow.step"]==f&&($["edge.dash.flow.step"]=3),$["shape.dash.flow.step"]==f&&($["shape.dash.flow.step"]=3),e.prepareRemove=function(U){P.call(this,U);var Q=U._dataModel,G=Q.$1c;if(G)for(var V=G.length,h=0;V>h;h++)if(G[h]===U){G.splice(h,1);break}},k.setDataModel=function(O){var z=this,A=z._dataModel;if(A!==O){A&&(A.umm(s,z),A.umd(q,z),A.$1c=[]),O.mm(s,z),O.md(q,z);var S=O.$1c=[];O.each(function(Q){var b=Q instanceof K?"shape.":"edge.";Q.s(b+"dash.flow")&&S.indexOf(Q)<0&&S.push(Q)}),i.call(z,O)}},k.setDashFlowInterval=function(y){var O=this,w=O.$2c;O.$2c=y,O.fp("dashFlowInterval",w,y),O.$3c!=f&&(p(O.$3c),delete O.$3c,O.enableDashFlow(y))},k.getDashFlowInterval=function(){return this.$2c},k.$4c=function(){var Y,B,A,m=this,t=m.tx(),b=m.ty(),U=m._zoom,y=m.getWidth(),f=m.getHeight(),r={x:-t/U,y:-b/U,width:y/U,height:f/U},$=m.dm().$1c,E=m._56I,o=new x;if($.forEach(function(P){E[P.getId()]&&(Y=m.getDataUI(P),Y&&(A=Y._79o(),A&&o.add(A)))}),0!==o.size()&&(o.each(function(U){a.intersectsRect(r,U)&&(B=a.unionRect(B,U))}),B&&(B&&(a.grow(B,F(1,1/U)),B.x=V(B.x*U)/U,B.y=V(B.y*U)/U,B.width=l(B.width*U)/U,B.height=l(B.height*U)/U,B=a.intersection(r,B)),B))){var N=m._canvas.getContext("2d");N.save(),N.lineCap=a.lineCap,N.lineJoin=a.lineJoin,w.translateAndScale(N,t,b,U),N.beginPath(),N.rect(B.x,B.y,B.width,B.height),N.clip(),N.clearRect(B.x,B.y,B.width,B.height),m.$5c(N,B),N.restore()}},k.$5c=function(e,P){var t,G,L=this;L._93db(e),L.each(function(d){L._56I[d._id]&&(t=L.getDataUI(d),t&&(G=t._79o(),(!P||a.intersectsRect(P,G))&&(t.$7c=!0,t._42(e),delete t.$7c)))}),L._92db(e)},k.enableDashFlow=function(e){var W=this;W.$3c==f&&(W.$3c=A(function(){W.$4c()},e||W.$2c||50))},k.disableDashFlow=function(){var j=this;p(j.$3c),delete j.$3c};var g=function(){var v=this,i=v._data,q=i instanceof K?"shape.":"edge.",u=i.s(q+"dash.pattern"),N=i.s(q+"dash.flow.reverse");if(u&&i.s(q+"dash")&&i.s(q+"dash.flow")&&v.$7c){var w=v.s(q+"dash.offset")||0,Q=i.s(q+"dash.flow.step"),m=i.getStyleMap(),Y=0;u.forEach(function(V){Y+=V}),N&&(Q=-Q),w-=Q,w%=Y,m||(i._styleMap=m={}),m[q+"dash.offset"]=w}};U._80o=function(G){v.call(this,G),g.call(this)},J._80o=function(v){d.call(this,v),g.call(this)}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);