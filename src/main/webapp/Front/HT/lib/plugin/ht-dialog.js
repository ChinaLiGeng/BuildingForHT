!function(k,t){"use strict";var n="ht",A=k[n],K="px",y="left",l="top",w="bottom",c="right",I="innerHTML",Y="className",g="",h="width",P="height",O="string",f="position",b="absolute",d="0",H="opacity",R="background",Z=A.Default,W=Z.getInternal(),J=A.Color,Q=Z.animate,a=Z.isTouchable,E=null,G=(Math.sqrt,k.parseInt),S=k.setTimeout,q=(Math.round,J.titleIconBackground),p=function(K){return typeof K===O||K instanceof String},o=function(){return document},u=function(p){return o().createElement(p)},j=function(){var _=u("div");return _.tabIndex=-1,_.style.outline="none",_},_=function(){return u("canvas")},i=function(Z,W){s(Z,"-webkit-transform",W),s(Z,"-ms-transform",W),s(Z,"transform",W)},s=function(F,r,b){F.style.setProperty(r,b,E)},v=function(C,i,H){Z.def(A.widget[C],i,H)},V=function(F,W){F.appendChild(W)},B=function(){return o().documentElement},$=function(){return B().clientWidth},L=function(){return B().clientHeight},F=function(r,F,p,k){r.addEventListener(F,p,!!k)},z=function($){var b=$.touches[0];return b?b:$.changedTouches[0]};W.addMethod(Z,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:q},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:q}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:q},{type:"rect",rect:[10,10,80,20],background:q}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:q},{type:"rect",rect:[10,34,56,14],background:q},{type:"rect",rect:[34,10,56,14],background:q},{type:"rect",rect:[82,10,8,56],background:q},{type:"rect",rect:[66,62,24,8],background:q}]},dialogTitleLabelColor:Z.labelSelectColor,dialogTitleLabelFont:(a?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:Z.labelFont,dialogTitleBackground:J.titleBackground,dialogHeaderBackground:J.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var M=function(j){var r=this;r.$1d=j,r.addListeners()};Z.def(M,t,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(N){var b=this,A=b.$1d,I=A.$6d,V=A._config,q=A.$7d,u=N,C=N.target;if(q.contains(C)||Z.preventDefault(N),Z.isLeftButton(N)){a&&(u=z(N));var Q=b.$8d={x:u.pageX,y:u.pageY};b.$9d={x:Q.x,y:Q.y},!V.maximized&&V.draggable&&I.contains(C)&&(b.$4d=!0,Z.startDragging(b,N)),b.handle_mousemove(N)&&(b.$2d=!0,Z.startDragging(b,N)),q.contains(N.target)||A.$41d.focus()}},handle_mousedown:function(f){this.handle_touchstart(f)},handle_touchend:function(W){if(Z.isLeftButton(W)&&!this.$5d&&!this.$3d){var L=this,k=L.$1d,l=W.target,M=k._config,R=k.$18d,Y=k.$16d;for(M.closable&&R.contains(l)&&k.hide(),M.maximizable&&Y.contains(l)&&(M.maximized?k.restore():k.maximize());l&&(l.className||"").indexOf("dialog-button")<0;)l=l.parentNode;l&&l.buttonItem&&k.action&&k.action(l.buttonItem,W),delete L.$8d,delete L.$9d}},handle_mouseup:function(Z){this.handle_touchend(Z)},handleWindowTouchEnd:function(g){var T=this,Q=T.$1d,G=Q.$10d;T.$2d&&T.$3d?G.fire({kind:"endResize",target:Q,originEvent:g}):T.$4d&&T.$5d&&G.fire({kind:"endMove",target:Q,originEvent:g}),this.clear()},handleWindowMouseUp:function(F){this.handleWindowTouchEnd(F)},handle_mousemove:function(d){var U=this.$1d._config;if(U.maximized)return!1;if("w"!==U.resizeMode&&"h"!==U.resizeMode&&"wh"!==U.resizeMode)return!1;var u=this,t=u.getView(),P=t.querySelector(".resize-area"),e=P.getBoundingClientRect(),N={x:e.left,y:e.top,width:e.width,height:e.height};d=a?z(d):d;var T=d.clientX,w=d.clientY,_={x:T,y:w};return Z.containsPoint(N,_)?(s(t,"cursor","nwse-resize"),!0):(s(t,"cursor",g),void 0)},handleWindowTouchMove:function(p){p.preventDefault();var C=p;a&&(C=z(p));var O=this,M=O.$8d,q=O.$9d;if(!(q.x==M.x&&q.y==M.y&&Z.getDistance(q,{x:C.pageX,y:C.pageY})<=1)){var w=O.$1d,x=w._config,I=w.$21d,e=x.resizeMode||"wh",b=C.pageX-M.x,v=C.pageY-M.y;if(O.$2d){var U=I.offsetWidth,P=I.offsetHeight,Q=U+b,d=P+v;if(Q=Math.max(Q,50),d=Math.max(d,50),"center"===x.position||x.position==E){var i={},g=I.getBoundingClientRect();i.x=g.left,i.y=g.top,x.position=i}"w"===e?(w.setSize(Q,P),M.x+=Q-U):"h"===e?(w.setSize(U,d),M.y+=d-P):"wh"===e&&(w.setSize(Q,d),M.x+=Q-U,M.y+=d-P),O.$3d?w.$10d.fire({kind:"betweenResize",target:w,originEvent:p}):(O.$3d=!0,w.$10d.fire({kind:"beginResize",target:w,originEvent:p}))}else if(O.$4d){var m=I.getBoundingClientRect(),B=m.width,A=m.height,H=$(),W=L(),k=G(I.style.left)||0,V=G(I.style.top)||0,Y=k+b,c=V+v,_=w.adjustPosition({x:Y,y:c},{width:B,height:A},{width:H,height:W});_&&(Y=_.x,c=_.y);var S=Y-k,r=c-V;s(I,y,Y+K),s(I,l,c+K),M.x+=S,M.y+=r,x.position={x:Y,y:c},O.$5d?w.$10d.fire({kind:"betweenMove",target:w,originEvent:p}):(O.$5d=!0,w.$10d.fire({kind:"beginMove",target:w,originEvent:p}))}}},handleWindowMouseMove:function(r){this.handleWindowTouchMove(r)},handleWindowResize:function(){var H=this,c=H,t=c._config,p=c.$21d,f=$(),R=L(),B=t.width,T=t.height,F=t.position||"center";t.maximized?(s(p,h,f+K),s(p,P,R+K),s(p,l,d),s(p,y,d)):(s(p,h,B+K),s(p,P,T+K),"center"===F?(s(p,y,(f-B)/2+K),s(p,l,(R-T)/2+K)):(s(p,y,F.x+K),s(p,l,F.y+K))),c.iv()},handle_mousewheel:function(v){v.stopPropagation()},handle_DOMMouseScroll:function(J){J.stopPropagation()}}),A.widget.Dialog=function(t){var V=this,i=V._view=W.createView(null,V);i[Y]="ht-widget-dialog",s(i,f,b),Z.baseZIndex!=E&&s(i,"z-index",Z.baseZIndex+"");var R=V.$11d=new M(V);V.bindingHandleWindowResize=R.handleWindowResize.bind(V),V.$10d=new A.Notifier,t&&V.setConfig(t)},v("Dialog",t,{ms_v:1,setTitle:function($){this._config.title=$,this.getView().querySelector(".dialog-container-title span").innerHTML=$},$31d:function(){var l=this,w=l.$6d=j(),f=l._config,D=l.$12d=l.$13d();w[Y]="dialog-container-title",s(w,"cursor","default"),s(w,"white-space","nowrap"),s(w,"overflow","hidden"),s(w,"font",Z.dialogTitleLabelFont),s(w,R,f.titleBackground||Z.dialogTitleBackground),s(w,"color",f.titleColor||Z.dialogTitleLabelColor);var y=u("span"),b=l.$25d();if(f.titleAlign&&s(w,"text-align",f.titleAlign),f.titleIcon){var J=l.$14d=l.$15d();V(w,J)}if(f.title&&f.title.trim&&(f.title=f.title.trim()),y[I]=f.title||"&nbsp;",V(w,y),f.maximizable){var h=l.$16d=l.$17d();V(D,h)}if(f.closable){var k=l.$18d=l.$19d();V(D,k)}return V(w,D),s(w,"display","block"),s(w,"line-height",b+K),w},$13d:function(){var W=j();return s(W,f,b),s(W,y,d),s(W,c,5+K),s(W,l,d),s(W,w,d),s(W,"text-align",c),s(W,"white-space","nowrap"),W[Y]="dialog-title-controls",W},$20d:function(){var E=this.$21d=j(),S=this._config,U=S.borderWidth;return s(E,f,"fixed"),s(E,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),s(E,"padding",d+" "+U+K+" "+U+K+" "+U+K),s(E,"box-sizing","border-box"),s(E,"-moz-box-sizing","border-box"),E[Y]="dialog-container",s(E,R,S.titleBackground||Z.dialogTitleBackground),E},$22d:function(){var r,x=this,T=x._config,M=x.$7d=j(),G=T.content,u=0,o=T.contentPadding||0;T.buttons!=E&&T.buttons.length>0&&(u=32),p(G)?M[I]=G:G.getView?(r=G.getView(),V(M,r)):(r=G,V(M,r)),s(M,f,b),s(M,"font",Z.dialogContentLabelFont),A.Default.appendToScreen(M);var $=M.offsetWidth+1,R=M.offsetHeight,t=x.$25d();return T.width==E&&(T.width=$+10+2*o),T.height==E&&(T.height=R+t+u+5+2*o),A.Default.removeHTML(M),r&&(s(r,"box-sizing","border-box"),s(r,"-moz-box-sizing","border-box"),s(r,h,"100%"),s(r,P,"100%")),M[Y]="dialog-content",s(M,l,t+o+K),s(M,w,u+o+K),s(M,y,o+K),s(M,c,o+K),s(M,"overflow","hidden"),M},getOverlayDiv:function(){return this.$41d},$23d:function(){var Z=this.$41d=j();return Z[Y]="dialog-overlay",s(Z,h,"100%"),s(Z,P,"100%"),s(Z,f,"fixed"),s(Z,l,d),s(Z,y,d),s(Z,R,"rgba(235, 235, 235, 0.7)"),Z},_config:E,setSize:function(o,p){var i=this,l=i._config;l&&(l.width=o,l.height=p,i.isShowing()&&(i.bindingHandleWindowResize(),i.iv()))},getConfig:function(){return this._config},$24d:function(){var n=this._config,U=n.titleIconSize||16;return a&&(U*=1.2),U},$25d:function(){var X=this._config,g=X.titleHeight||Z.widgetTitleHeight;return g},$26d:function(M){s(M,"cursor","pointer"),s(M,"display","inline-block"),s(M,"margin-right",(a?8:4)+K),s(M,"vertical-align",l)},$27d:function(){var v=this.$30d=j(),Z=10;return a&&(Z=20),s(v,h,Z+K),s(v,P,Z+K),s(v,f,b),s(v,w,d),s(v,c,d),v[Y]="resize-area",v},$15d:function(){var d=this,F=_();F[Y]="dialog-title-control dialog-title-control-icon";var f=d.$25d(),A=d.$24d();return d.$26d(F),W.setCanvas(F,A,f),F},$17d:function(){var c=_();c[Y]="dialog-title-control dialog-title-control-maximize";var u=this.$25d(),$=this.$24d();return this.$26d(c),W.setCanvas(c,$,u),c},$19d:function(){var o=_();o[Y]="dialog-title-control dialog-title-control-close";var l=this.$25d(),k=this.$24d();return this.$26d(o),W.setCanvas(o,k,l),o},$28d:function(){var U=j();return s(U,R,"white"),s(U,h,"100%"),s(U,P,"100%"),s(U,f,"relative"),U},$29d:function(){var i=this,t=j();s(t,"line-height",32+K),s(t,f,b),s(t,w,d),s(t,y,d),s(t,"white-space","nowrap"),s(t,"overflow","hidden"),s(t,c,d),s(t,R,Z.dialogHeaderBackground),t[Y]="dialog-container-buttons";var o=this._config,N=o.buttonsAlign||c,U=0;return s(t,"text-align",N),i.$42d=[],o.buttons.forEach(function(u){var z=new A.widget.Button,O=z.getView();O[Y]="dialog-button "+u.className,O.buttonItem=u,i.$42d.push(z),z.setBorderColor(E),z.setBackground(Z.dialogButtonBackground),z.setSelectBackground(Z.dialogButtonSelectBackground),z.setLabelColor(Z.dialogButtonLabelColor),s(O,f,"static"),s(O,"display","inline-block"),s(O,"text-align",y),s(O,"height",24+K);var j=a?10:5;N===y||N===c?s(O,"margin-"+N,j+K):0===U||s(O,"margin-"+y,j+K),s(O,"vertical-align","middle");var w=Z.getTextSize(z.getLabelFont(),u.label).width+10;z.onClicked=function(H){u.action&&u.action.call(i,u,H)},z.setLabel(u.label),s(O,h,w+K),V(t,z.getView()),U++}),t},setConfig:function(k){if(k){var F=this,l=F._view;F._config=k,F.action=k.action,l[I]=g,k.borderWidth==E&&(k.borderWidth=5);var Y=F.$23d(),U=F.$28d(),S=F.$31d(),X=F.$22d(),n=F.$20d(),$=F.$30d=F.$27d();if(V(l,Y),V(l,n),V(n,U),V(U,S),V(U,X),k.buttons!=E&&k.buttons.length>0){var L=F.$29d();V(U,L)}V(n,$),k.maximized?(k.maximized=!1,F.bindingHandleWindowResize(),F.maximize(!0)):F.bindingHandleWindowResize(),F.isShowing()&&F.iv()}},hide:function(){var n=this,V=n.$21d,g=n.$41d,h=n._view;h[Y]="ht-widget-dialog",Q(V).duration(200).scale(.7).set(H,d).end(function(){n.onHidden&&n.onHidden(),A.Default.removeHTML(h),n.$10d.fire({kind:"hide",target:n})}),Q(g).duration(200).set(H,d).end(),k.removeEventListener("resize",n.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(b){this.$41d.style.display=b?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var y=this,A=y._config,u=y.$21d;i(u,g),y.iv(),A.maximized?y.$10d.fire({kind:"maximize",target:y}):y.$10d.fire({kind:"restore",target:y})},maximize:function(V){var p=this,R=p.$21d,O=p._config;if(!O.maximized){O.maximized=!0,p.$33d(),p.$16d[Y]="dialog-title-control dialog-title-control-minimize";var W=$(),f=L(),u=O.width,Z=O.height,z=G(R.style.left)||0,E=G(R.style.top)||0;p.$36d=u,p.$37d=Z,p.$34d=z,p.$35d=E;var t=V?0:200;Q(R).duration(t).set(y,d).set(l,d).set(h,W+K).set(P,f+K).end(function(){p.$32d()})}},restore:function(){var f=this,n=f.$34d,q=f.$35d,V=f.$36d,I=f.$37d,z=f._config;if(z.maximized&&(z.maximized=!1,f.$33d(),f.$16d[Y]="dialog-title-control dialog-title-control-maximize",f.isShowing()&&n!=E&&q!=E&&V!=E&&I!=E)){var a=f.$21d;Q(a).duration(200).set(y,n+K).set(l,q+K).set(h,V+K).set(P,I+K).end(function(){f.$32d()})}delete f.$34d,delete f.$35d,delete f.$36d,delete f.$37d},show:function(){var q=this,n=q._view,u=q._config,e=q.$21d,O=q.$41d;u&&u.zIndex!=E&&s(n,"z-index",u.zIndex+g),A.Default.appendToScreen(n),i(e,"scale(0.7)"),s(e,H,d),q.iv(),q.validate(),q._view[Y]+=" dialog-show",S(function(){Q(e).duration(200).scale(1).set(H,"1").end(function(){s(e,h,e.clientWidth+K),s(e,P,e.clientHeight+K),q.onShown&&q.onShown(),q.$10d.fire({kind:"show",target:q})}),Q(O).duration(200).set(H,"1").end(),F(k,"resize",q.bindingHandleWindowResize)},30)},setPosition:function(L){var m=this.$21d;m.style.left=L.x+"px",m.style.top=L.y+"px"},addEventListener:function(Z,n,H){this.$10d.add(Z,n,H)},removeEventListener:function(T,_){this.$10d.remove(T,_)},$38d:function(l,i,R,V){var E=W.initContext(l);W.translateAndScale(E,0,0,1),E.clearRect(0,0,R,R);var n=(R-V)/2;Z.drawStretchImage(E,Z.getImage(i),"fill",0,n,V,V),E.restore()},$33d:function(){var i=this,O=i._config,E=i.$16d,w=O.maximized?Z.dialogRestoreIcon:Z.dialogMaximizeIcon;if(E&&w){var X=i.$25d(),r=i.$24d();i.$38d(E,Z.getImage(w),X,r)}},$39d:function(){var f=this,o=f._config,$=f.$14d,E=o.titleIcon;if($&&E){var O=f.$25d(),C=f.$24d();f.$38d($,Z.getImage(E),O,C)}},$40d:function(){var F=this,w=F.$18d,C=Z.dialogCloseIcon;if(w&&C){var P=F.$25d(),Y=F.$24d();F.$38d(w,Z.getImage(C),P,Y)}},invalidate:function(L){var z=this,q=z.$42d;z._68I||(z._68I=1,Z.callLater(z.validate,z,E,L),z.onInvalidated&&z.onInvalidated(),z.fireViewEvent("invalidate"));var T=z._config.content;T.invalidate&&T.invalidate(),q&&q.forEach(function(e){e.iv()})},validateImpl:function(){var Y=this;Y.$40d(),Y.$33d(),Y.$39d();var O=Y._config.content;O.initView&&(O.setX(0),O.setY(0),O.setWidth(Y.$7d.clientWidth),O.setHeight(Y.$7d.clientHeight))},adjustPosition:function(k,R,W){var i=R.width,D=R.height,F=W.width,z=W.height,f=k.x,e=k.y,h=this._config,Y=h.minDragSize||20;return"inside"===h.dragMode?(f+i>F&&(f=F-i),e+D>z&&(e=z-D),0>f&&(f=0),0>e&&(e=0)):(null==h.dragMode||"none"===h.dragMode)&&(-i+Y>f&&(f=-i+Y),f>F-Y&&(f=F-Y),e>z-Y&&(e=z-Y),0>e&&(e=0)),{x:f,y:e}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);