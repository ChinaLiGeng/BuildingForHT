!function(I,m,t){"use strict";var a="ht",p=I[a],L=null,d=Math,f=d.PI,l=d.cos,X=d.sin,i=d.abs,k=d.max,w=d.sqrt,r=1e-5,J=p.Default,N=J.def,F=J.startAnim,o=J.createMatrix,q=J.transformVec,E=J.getInternal(),Q=E.addMethod,g=E.superCall,H=E.toPointsArray,T=E.createNormals,B=E.toFloatArray,U=E.glMV,G=E.batchShape,s=E.createNodeMatrix,M=E.getFaceInfo,u=E.transformAppend,$=E.drawFaceInfo,x=E.createAnim,Z=E.cube(),S=Z.is,j=Z.vs,O=Z.uv,A=E.ui(),_=p.Node,y=p.Shape,P="h",z="v",D="front",W="back",Y="left",v="right",R="top",c="bottom",V="dw.expanded",n=".expanded",e="dw.angle",C=".angle",h=function(Y,$,x){N(a+"."+Y,$,x)},b=function(A,X,p){p?A.push(X.x,X.y):A.push(X.x,X.y,X.z)},K=[1,0,0],_m=function(b,q,o,Y){var P,F,t,y,I=0,x=[];if(Y)for(P=Y.length;P>I;I+=3)F=Y[I],t=Y[I+1],y=Y[I+2],x.push(new yi([new Xb([q[3*F],q[3*F+1],q[3*F+2]],K,o?[o[2*F],o[2*F+1],0]:L),new Xb([q[3*t],q[3*t+1],q[3*t+2]],K,o?[o[2*t],o[2*t+1],0]:L),new Xb([q[3*y],q[3*y+1],q[3*y+2]],K,o?[o[2*y],o[2*y+1],0]:L)],b));else for(P=q.length;P>I;I+=3)F=I,t=I+1,y=I+2,x.push(new yi([new Xb([q[3*F],q[3*F+1],q[3*F+2]],K,o?[o[2*F],o[2*F+1],0]:L),new Xb([q[3*t],q[3*t+1],q[3*t+2]],K,o?[o[2*t],o[2*t+1],0]:L),new Xb([q[3*y],q[3*y+1],q[3*y+2]],K,o?[o[2*y],o[2*y+1],0]:L)],b));return x},Mr=[Y,D,v,W,R,c],ul=Mr.concat("csg"),Ib=[0,6,12,18,24,30],Eh=function(d,E,I){for(var m=s(d),p=[],Q=0;6>Q;Q++)for(var t=Mr[Q],W=Ib[Q],D=I?E.getFaceUv(d,t):L,G=I?E.getFaceUvScale(d,t):L,r=I?E.getFaceUvOffset(d,t):L,R=0;2>R;R++){var z,h,H,A=S[W+3*R],o=S[W+3*R+1],c=S[W+3*R+2];if(I){if(D){var n=8*Q;z=[D[2*A-n],D[2*A+1-n],0],h=[D[2*o-n],D[2*o+1-n],0],H=[D[2*c-n],D[2*c+1-n],0]}else z=[O[2*A],O[2*A+1],0],h=[O[2*o],O[2*o+1],0],H=[O[2*c],O[2*c+1],0];G&&(z[0]*=G[0],z[1]*=G[1],h[0]*=G[0],h[1]*=G[1],H[0]*=G[0],H[1]*=G[1]),r&&(z[0]+=r[0],z[1]+=r[1],h[0]+=r[0],h[1]+=r[1],H[0]+=r[0],H[1]+=r[1])}p.push(new yi([new Xb(q([j[3*A],j[3*A+1],j[3*A+2]],m),K,z),new Xb(q([j[3*o],j[3*o+1],j[3*o+2]],m),K,h),new Xb(q([j[3*c],j[3*c+1],j[3*c+2]],m),K,H)],d))}return hr.$15n(p)},Vq=function($,w){var v,Z=$.data.getAttaches();if(Z&&Z.each(function(L){L instanceof yp&&L.s("attach.operation")&&(v||(v=[]),v.push(L))}),v){var n;Mr.forEach(function(o){var K=_m(o,$[o].vs,$[o].tuv);n=n?n.concat(K):K}),n=hr.$15n(n),v.forEach(function(V){var h=V.s("attach.operation");n[h]&&(n=n[h](Eh(V,$.gv,$.csg.tuv)))}),Mr.forEach(function(I){I=$[I],I.vs=[],I.tuv&&(I.tuv=[])}),n.$19n().forEach(function(f){var P=f.$10n;if(P instanceof yp){if(P.s("attach.cull"))return;P="csg"}for(var v=$[P],z=v.vs,w=v.tuv,l=f.$9n,Y=2;Y<l.length;Y++)b(z,l[0].$24n),b(z,l[Y-1].$24n),b(z,l[Y].$24n),w&&(b(w,l[0].uv,!0),b(w,l[Y-1].uv,!0),b(w,l[Y].uv,!0))})}ul.forEach(function(t){var w=$[t];w.visible&&w.vs.length?(w.ns=T(w.vs),B(w,"vs"),B(w,"tuv")):delete $[t]}),w&&(G($,L,w),$.clear())};Q(J,{createFrameModel:function(Z,v,n,J){Z=Z==L?.07:Z,v=v==L?Z:v,n=n==L?Z:n,J=J?J:{};var N=J.top,D=J.bottom,U=J.left,Q=J.right,B=J.front,O=J.back,s=[],l=[];return B===!0?(s.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),l.push(0,0,0,1,1,1,1,1,1,0,0,0)):B===!1||(s.push(-.5,.5,.5,-.5,-.5,.5,-.5+Z,-.5,.5,-.5+Z,-.5,.5,-.5+Z,.5,.5,-.5,.5,.5,.5-Z,.5,.5,.5-Z,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-Z,.5,.5,-.5+Z,.5,.5,-.5+Z,.5-v,.5,.5-Z,.5-v,.5,.5-Z,.5-v,.5,.5-Z,.5,.5,-.5+Z,.5,.5,-.5+Z,-.5+v,.5,-.5+Z,-.5,.5,.5-Z,-.5,.5,.5-Z,-.5,.5,.5-Z,-.5+v,.5,-.5+Z,-.5+v,.5),l.push(0,0,0,1,Z,1,Z,1,Z,0,0,0,1-Z,0,1-Z,1,1,1,1,1,1,0,1-Z,0,Z,0,Z,v,1-Z,v,1-Z,v,1-Z,0,Z,0,Z,1-v,Z,1,1-Z,1,1-Z,1,1-Z,1-v,Z,1-v)),O===!0?(s.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),l.push(1,0,0,1,1,1,0,1,1,0,0,0)):O===!1||(s.push(-.5,.5,-.5,-.5+Z,-.5,-.5,-.5,-.5,-.5,-.5+Z,-.5,-.5,-.5,.5,-.5,-.5+Z,.5,-.5,.5-Z,.5,-.5,.5,-.5,-.5,.5-Z,-.5,-.5,.5,-.5,-.5,.5-Z,.5,-.5,.5,.5,-.5,-.5+Z,.5,-.5,.5-Z,.5-v,-.5,-.5+Z,.5-v,-.5,.5-Z,.5-v,-.5,-.5+Z,.5,-.5,.5-Z,.5,-.5,-.5+Z,-.5+v,-.5,.5-Z,-.5,-.5,-.5+Z,-.5,-.5,.5-Z,-.5,-.5,-.5+Z,-.5+v,-.5,.5-Z,-.5+v,-.5),l.push(1,0,1-Z,1,1,1,1-Z,1,1,0,1-Z,0,Z,0,0,1,Z,1,0,1,Z,0,0,0,1-Z,0,Z,v,1-Z,v,Z,v,1-Z,0,Z,0,1-Z,1-v,Z,1,1-Z,1,Z,1,1-Z,1-v,Z,1-v)),U===!0?(s.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),l.push(0,0,0,1,1,1,1,1,1,0,0,0)):U===!1||(s.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+n,-.5,-.5,-.5+n,-.5,.5,-.5+n,-.5,.5,-.5,-.5,.5,.5-n,-.5,-.5,.5-n,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-n,-.5,.5,-.5+n,-.5,.5-v,-.5+n,-.5,.5-v,.5-n,-.5,.5-v,.5-n,-.5,.5,.5-n,-.5,.5,-.5+n,-.5,-.5+v,-.5+n,-.5,-.5,-.5+n,-.5,-.5,.5-n,-.5,-.5,.5-n,-.5,-.5+v,.5-n,-.5,-.5+v,-.5+n),l.push(0,0,0,1,n,1,n,1,n,0,0,0,1-n,0,1-n,1,1,1,1,1,1,0,1-n,0,n,0,n,v,1-n,v,1-n,v,1-n,0,n,0,n,1-v,n,1,1-n,1,1-n,1,1-n,1-v,n,1-v)),Q===!0?(s.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),l.push(1,0,0,1,1,1,0,1,1,0,0,0)):Q===!1||(s.push(.5,.5,-.5,.5,-.5,-.5+n,.5,-.5,-.5,.5,-.5,-.5+n,.5,.5,-.5,.5,.5,-.5+n,.5,.5,.5-n,.5,-.5,.5,.5,-.5,.5-n,.5,-.5,.5,.5,.5,.5-n,.5,.5,.5,.5,.5,-.5+n,.5,.5-v,.5-n,.5,.5-v,-.5+n,.5,.5-v,.5-n,.5,.5,-.5+n,.5,.5,.5-n,.5,-.5+v,-.5+n,.5,-.5,.5-n,.5,-.5,-.5+n,.5,-.5,.5-n,.5,-.5+v,-.5+n,.5,-.5+v,.5-n),l.push(1,0,1-n,1,1,1,1-n,1,1,0,1-n,0,n,0,0,1,n,1,0,1,n,0,0,0,1-n,0,n,v,1-n,v,n,v,1-n,0,n,0,1-n,1-v,n,1,1-n,1,n,1,1-n,1-v,n,1-v)),N===!0?(s.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),l.push(1,1,1,0,0,0,0,0,0,1,1,1)):N===!1||(s.push(.5,.5,.5,.5,.5,-.5,.5-Z,.5,-.5,.5-Z,.5,-.5,.5-Z,.5,.5,.5,.5,.5,-.5+Z,.5,.5,-.5+Z,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+Z,.5,.5,.5-Z,.5,.5,.5-Z,.5,.5-n,-.5+Z,.5,.5-n,-.5+Z,.5,.5-n,-.5+Z,.5,.5,.5-Z,.5,.5,.5-Z,.5,-.5+n,.5-Z,.5,-.5,-.5+Z,.5,-.5,-.5+Z,.5,-.5,-.5+Z,.5,-.5+n,.5-Z,.5,-.5+n),l.push(1,1,1,0,1-Z,0,1-Z,0,1-Z,1,1,1,Z,1,Z,0,0,0,0,0,0,1,Z,1,1-Z,1,1-Z,1-n,Z,1-n,Z,1-n,Z,1,1-Z,1,1-Z,n,1-Z,0,Z,0,Z,0,Z,n,1-Z,n)),D===!0?(s.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),l.push(1,0,0,1,1,1,0,1,1,0,0,0)):D===!1||(s.push(.5,-.5,.5,.5-Z,-.5,-.5,.5,-.5,-.5,.5-Z,-.5,-.5,.5,-.5,.5,.5-Z,-.5,.5,-.5+Z,-.5,.5,-.5,-.5,-.5,-.5+Z,-.5,-.5,-.5,-.5,-.5,-.5+Z,-.5,.5,-.5,-.5,.5,.5-Z,-.5,.5,-.5+Z,-.5,.5-n,.5-Z,-.5,.5-n,-.5+Z,-.5,.5-n,.5-Z,-.5,.5,-.5+Z,-.5,.5,.5-Z,-.5,-.5+n,-.5+Z,-.5,-.5,.5-Z,-.5,-.5,-.5+Z,-.5,-.5,.5-Z,-.5,-.5+n,-.5+Z,-.5,-.5+n),l.push(1,0,1-Z,1,1,1,1-Z,1,1,0,1-Z,0,Z,0,0,1,Z,1,0,1,Z,0,0,0,1-Z,0,Z,n,1-Z,n,Z,n,1-Z,0,Z,0,1-Z,1-n,Z,1,1-Z,1,Z,1,1-Z,1-n,Z,1-n)),{vs:s,uv:l}}}),Q(p.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":t,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":f/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),Mr.forEach(function(S){var x={};x[S+n]=!1,x[S+".toggleable"]=!1,x[S+".axis"]=Y,x[S+".start"]=0,x[S+".end"]=f/2,x[S+C]=0,Q(p.Style,x,!0)});var hr=function(){this.$4n=[]};hr.$15n=function(i){var h=new hr;return h.$4n=i,h},hr.prototype={clone:function(){var W=new hr;return W.$4n=this.$4n.map(function(T){return T.clone()}),W},$19n:function(){return this.$4n},union:function(g){var W=new Fo(this.clone().$4n),I=new Fo(g.clone().$4n);return W.$3n(I),I.$3n(W),I.$6n(),I.$3n(W),I.$6n(),W.$7n(I.$2n()),hr.$15n(W.$2n())},subtract:function($){var F=new Fo(this.clone().$4n),A=new Fo($.clone().$4n);return F.$6n(),F.$3n(A),A.$3n(F),A.$6n(),A.$3n(F),A.$6n(),F.$7n(A.$2n()),F.$6n(),hr.$15n(F.$2n())},intersect:function(c){var r=new Fo(this.clone().$4n),v=new Fo(c.clone().$4n);return r.$6n(),v.$3n(r),v.$6n(),r.$3n(v),v.$3n(r),r.$7n(v.$2n()),r.$6n(),hr.$15n(r.$2n())},inverse:function(){var T=this.clone();return T.$4n.map(function(N){N.flip()}),T}},hr.cube=function(b){b=b||{};var Q=new ce(b.center||[0,0,0]),o=b.radius?b.radius.length?b.radius:[b.radius,b.radius,b.radius]:[1,1,1];return hr.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(c){return new yi(c[0].map(function(Y){var M=new ce(Q.x+o[0]*(2*!!(1&Y)-1),Q.y+o[1]*(2*!!(2&Y)-1),Q.z+o[2]*(2*!!(4&Y)-1));return new Xb(M,new ce(c[1]))}))}))},hr.sphere=function(Y){function A(S,Z){S*=2*f,Z*=f;var J=new ce(l(S)*X(Z),l(Z),X(S)*X(Z));s.push(new Xb(Q.$20n(J.$21n(G)),J))}Y=Y||{};for(var s,Q=new ce(Y.center||[0,0,0]),G=Y.radius||1,U=Y.slices||16,h=Y.stacks||8,R=[],M=0;U>M;M++)for(var k=0;h>k;k++)s=[],A(M/U,k/h),k>0&&A((M+1)/U,k/h),h-1>k&&A((M+1)/U,(k+1)/h),A(M/U,(k+1)/h),R.push(new yi(s));return hr.$15n(R)},hr.cylinder=function(z){function o(t,$,Q){var L=2*$*f,x=e.$21n(l(L)).$20n(y.$21n(X(L))),w=c.$20n(G.$21n(t)).$20n(x.$21n(E)),C=x.$21n(1-i(Q)).$20n(m.$21n(Q));return new Xb(w,C)}z=z||{};for(var c=new ce(z.start||[0,-1,0]),_=new ce(z.end||[0,1,0]),G=_.$13n(c),E=z.radius||1,T=z.slices||16,m=G.$14n(),p=i(m.y)>.5,e=new ce(p,!p,0).$12n(m).$14n(),y=e.$12n(m).$14n(),U=new Xb(c,m.$11n()),W=new Xb(_,m.$14n()),K=[],d=0;T>d;d++){var s=d/T,O=(d+1)/T;K.push(new yi([U,o(0,s,-1),o(0,O,-1)])),K.push(new yi([o(0,O,0),o(0,s,0),o(1,s,0),o(1,O,0)])),K.push(new yi([W,o(1,O,1),o(1,s,1)]))}return hr.$15n(K)};var ce=function(G,O,T){var N=this;3==arguments.length?(N.x=G,N.y=O,N.z=T):"x"in G?(N.x=G.x,N.y=G.y,N.z=G.z):(N.x=G[0],N.y=G[1],N.z=G[2])};ce.prototype={clone:function(){return new ce(this.x,this.y,this.z)},$11n:function(){return new ce(-this.x,-this.y,-this.z)},$20n:function(r){return new ce(this.x+r.x,this.y+r.y,this.z+r.z)},$13n:function(k){return new ce(this.x-k.x,this.y-k.y,this.z-k.z)},$21n:function(v){return new ce(this.x*v,this.y*v,this.z*v)},$16n:function(Q){return new ce(this.x/Q,this.y/Q,this.z/Q)},$23n:function(H){return this.x*H.x+this.y*H.y+this.z*H.z},lerp:function(A,$){return this.$20n(A.$13n(this).$21n($))},length:function(){return w(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(d){var I=this;return new ce(I.y*d.z-I.z*d.y,I.z*d.x-I.x*d.z,I.x*d.y-I.y*d.x)}};var Xb=function(u,H,$){var X=this;X.$24n=new ce(u),X.$22n=new ce(H),X.uv=$?new ce($):null};Xb.prototype={clone:function(){var y=this;return new Xb(y.$24n.clone(),y.$22n.clone(),y.uv?y.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(W,e){var w=this;return new Xb(w.$24n.lerp(W.$24n,e),w.$22n.lerp(W.$22n,e),w.uv?w.uv.lerp(W.uv,e):null)}};var sj=function(r,K){this.$22n=r,this.w=K};sj.$17n=function(R,S,e){var W=S.$13n(R).$12n(e.$13n(R)).$14n();return new sj(W,W.$23n(R))},sj.prototype={clone:function(){return new sj(this.$22n.clone(),this.w)},flip:function(){var L=this;L.$22n=L.$22n.$11n(),L.w=-L.w},$5n:function(C,n,L,g,j){for(var Y=this,b=0,P=1,q=2,l=3,p=0,c=[],$=0;$<C.$9n.length;$++){var E=Y.$22n.$23n(C.$9n[$].$24n)-Y.w,H=-r>E?q:E>r?P:b;p|=H,c.push(H)}switch(p){case b:(Y.$22n.$23n(C.$8n.$22n)>0?n:L).push(C);break;case P:g.push(C);break;case q:j.push(C);break;case l:for(var X=[],i=[],$=0;$<C.$9n.length;$++){var M=($+1)%C.$9n.length,B=c[$],d=c[M],x=C.$9n[$],t=C.$9n[M];if(B!=q&&X.push(x),B!=P&&i.push(B!=q?x.clone():x),(B|d)==l){var E=(Y.w-this.$22n.$23n(x.$24n))/Y.$22n.$23n(t.$24n.$13n(x.$24n)),s=x.$18n(t,E);X.push(s),i.push(s.clone())}}X.length>=3&&g.push(new yi(X,C.$10n)),i.length>=3&&j.push(new yi(i,C.$10n))}}};var yi=function(Y,O){var W=this;W.$9n=Y,W.$10n=O,W.$8n=sj.$17n(Y[0].$24n,Y[1].$24n,Y[2].$24n)};yi.prototype={clone:function(){var p=this.$9n.map(function(W){return W.clone()});return new yi(p,this.$10n)},flip:function(){this.$9n.reverse().map(function(D){D.flip()}),this.$8n.flip()}};var Fo=function(g){var W=this;W.$8n=null,W.front=null,W.back=null,W.$4n=[],g&&W.$7n(g)};Fo.prototype={clone:function(){var W=this,K=new Fo;return K.$8n=W.$8n&&W.$8n.clone(),K.front=W.front&&W.front.clone(),K.back=W.back&&W.back.clone(),K.$4n=W.$4n.map(function(g){return g.clone()}),K},$6n:function(){for(var Y=this,l=0;l<Y.$4n.length;l++)Y.$4n[l].flip();Y.$8n.flip(),Y.front&&Y.front.$6n(),Y.back&&Y.back.$6n();var k=Y.front;Y.front=Y.back,Y.back=k},$1n:function(t){var _=this;if(!_.$8n)return t.slice();for(var I=[],P=[],c=0;c<t.length;c++)_.$8n.$5n(t[c],I,P,I,P);return _.front&&(I=_.front.$1n(I)),P=_.back?_.back.$1n(P):[],I.concat(P)},$3n:function(E){var y=this;y.$4n=E.$1n(y.$4n),y.front&&y.front.$3n(E),y.back&&y.back.$3n(E)},$2n:function(){var y=this,s=y.$4n.slice();return y.front&&(s=s.concat(y.front.$2n())),y.back&&(s=s.concat(y.back.$2n())),s},$7n:function($){var M=this;if($.length){M.$8n||(M.$8n=$[0].$8n.clone());for(var A=[],v=[],g=0;g<$.length;g++)this.$8n.$5n($[g],M.$4n,M.$4n,A,v);A.length&&(M.front||(M.front=new Fo),this.front.$7n(A)),v.length&&(M.back||(M.back=new Fo),M.back.$7n(v))}}};var Yb="symbol",Ui=p.Symbol=function(H,x,b){var s=this;g(Ui,s),s.s3(20,20,20),s.s({"all.visible":!1,shape:"rect"}),s.setIcon(H,x,b)};h("Symbol",_,{setIcon:function(A,k,K){var V,G=this;return Ui.superClass.setIcon.call(G,A),A?(V={for3d:!0,face:"center",position:44,names:[A]},K&&(V.transaprent=!0),k&&(V.autorotate=k),G.addStyleIcon(Yb,V)):G.removeStyleIcon(Yb),G.setWidth(E.getImageWidth(J.getImage(A),G)||20),V}});var yp=p.CSGNode=function(){g(yp,this),this.s({shape:"rect","attach.thickness":1.001})},Qq={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};h("CSGNode",_,{_22Q:function(){return qr},onPropertyChanged:function(R){var G=this,s=G.getHost();yp.superClass.onPropertyChanged.call(G,R),Qq[R.property]&&(s instanceof Yh||s instanceof yp)&&s.fp("csgNodeChange",!0,!1)}});var qr=function(R,q){g(qr,this,[R,q])};N(qr,A.Node3dUI,{_80o:function(F,c,Y){var A=this;A._shape3d?qr.superClass._80o.call(A,F,c,Y):(U(A.gv),ul.forEach(function(l){$(A,F,c,A[l],Y)}))},validate:function(J,I){var g=this,n=g.gv,Q=g.data;if(Q.s("shape3d"))return qr.superClass.validate.call(g,J,I),g._shape3d=!0,void 0;g._shape3d=!1;var K=s(Q,n.getMat(Q)),h=J&&J.uv;g.vf2("csg",h);for(var C=0;6>C;C++)for(var D=Mr[C],w=Ib[C],a=g.vf2(D,h,I),A=a.mat||K,G=a.vs,B=a.uv,P=a.tuv,U=0;2>U;U++){var H=S[w+3*U],$=S[w+3*U+1],b=S[w+3*U+2];if(u(G,A,[j[3*H],j[3*H+1],j[3*H+2]]),u(G,A,[j[3*$],j[3*$+1],j[3*$+2]]),u(G,A,[j[3*b],j[3*b+1],j[3*b+2]]),P)if(B){var E=8*C;P.push(B[2*H-E],B[2*H+1-E],B[2*$-E],B[2*$+1-E],B[2*b-E],B[2*b+1-E])}else P.push(O[2*H],O[2*H+1],O[2*$],O[2*$+1],O[2*b],O[2*b+1])}Vq(g,J,I)},vf2:function(t,Q,V){var U,w=this,$=w.gv.getFaceVisible(w.data,t);return U=M(w,t,V),U.vs=[],U.tuv=$&&(U.texture||Q)?[]:L,U.visible=$,U}});var Yh=p.CSGShape=function(){var h=this;g(Yh,h),h.s({"shape.background":L,"shape.border.width":8}),h.setTall(240),h.setElevation(120),h.setThickness(14)};h("CSGShape",y,{IRotatable:!1,_22Q:function(){return ek},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var ek=function(e,k){g(ek,this,[e,k])};N(ek,A.Shape3dUI,{_80o:function(i,q,P){var I=this;I.undrawable||(U(I.gv),ul.forEach(function(O){$(I,i,q,I[O],P)}))},validate:function(h,P){var Y=this,V=Y.data,c=V.getPoints();if(Y.undrawable=c.size()<2)return Y.clear(),void 0;var m=V.isClosePath(),N=k(V._thickness/2,r),Q=H(c,L,L,m);ul.forEach(function(M){Y.vf(M,h&&h.uv,!0,P)}),m&&(Y.left.visible=!1,Y.right.visible=!1),Y._12O(Q,N),Y._20Q(Q),Vq(Y,h,P)}});var nl=p.DoorWindow=function(){var z=this;g(nl,z),z.setElevation(100),z.s3(100,200,14)};h("DoorWindow",yp,{IDoorWindow:!0,toggle:function(r){this.setExpanded(!this.s(V),r)},isExpanded:function(){return this.s(V)},setExpanded:function(s,n){var N=this,t=N.$25n,k=N.getDataModel(),P=N.s(V);if(t&&(t.stop(!0),delete N.$25n),P!==s){k&&k.beginTransaction();var R=s?N.s("dw.end"):N.s("dw.start");N.s(V,s),n=x(n),n?(P=N.s(e),n.action=function(g){N.s(e,P+(R-P)*g)},n.finishFunc=function(){k&&k.endTransaction()},N.$25n=F(n)):(N.s(e,R),k&&k.endTransaction())}},getMat:function(){var b=this,q=b.s("dw.s3"),x=b.s("dw.t3"),$=b.s("dw.flip"),F=b.s(e);if(q||F||x||$){var O=[];if($&&O.push({r3:[0,f,0]}),q&&O.push({s3:q}),F){q=b.s3();var d=b.s("dw.axis"),B=q[0]/2,V=q[1]/2;q[2]/2,d===Y?O.push({t3:[B,0,0]},{r3:[0,-F,0]},{t3:[-B,0,0]}):d===v?O.push({t3:[-B,0,0]},{r3:[0,F,0]},{t3:[B,0,0]}):d===R?O.push({t3:[0,-V,0]},{r3:[-F,0,0]},{t3:[0,V,0]}):d===c?O.push({t3:[0,V,0]},{r3:[F,0,0]},{t3:[0,-V,0]}):d===z?O.push({r3:[0,F,0]}):d===P&&O.push({r3:[F,0,0]})}return x&&O.push({t3:x}),o(O)}return L}});var Yc=p.CSGBox=function(){var q=this;g(Yc,q),q.setElevation(100),q.s3(100,200,100)};h("CSGBox",yp,{ICSGBox:!0,toggleFace:function(Q,U){this.setFaceExpanded(Q,!this.s(Q+n),U)},isFaceExpanded:function(q){return this.s(q+n)},setFaceExpanded:function(d,$,m){var H=this,B=H.$25n,v=H.s(d+n);if(B&&(B.stop(!0),delete H.$25n),v!==$){var s=$?H.s(d+".end"):H.s(d+".start");H.s(d+n,$),m=x(m),m?(v=H.s(d+C),m.action=function(V){H.s(d+C,v+(s-v)*V)},H.$25n=F(m)):H.s(d+C,s)}},getFaceMat:function(K){var g=this,w=g.s(K+C);if(!w)return L;var u=g.s(K+".axis"),$=g.s3(),n=$[0]/2,S=$[1]/2,I=$[2]/2,y=[];return K===D&&(u===Y?y.push({t3:[n,0,-I]},{r3:[0,-w,0]},{t3:[-n,0,I]}):u===v?y.push({t3:[-n,0,-I]},{r3:[0,w,0]},{t3:[n,0,I]}):u===R?y.push({t3:[0,-S,-I]},{r3:[-w,0,0]},{t3:[0,S,I]}):u===c?y.push({t3:[0,S,-I]},{r3:[w,0,0]},{t3:[0,-S,I]}):u===z?y.push({t3:[0,0,-I]},{r3:[0,w,0]},{t3:[0,0,I]}):u===P&&y.push({t3:[0,0,-I]},{r3:[w,0,0]},{t3:[0,0,I]})),K===W&&(u===Y?y.push({t3:[-n,0,I]},{r3:[0,-w,0]},{t3:[n,0,-I]}):u===v?y.push({t3:[n,0,I]},{r3:[0,w,0]},{t3:[-n,0,-I]}):u===R?y.push({t3:[0,-S,I]},{r3:[w,0,0]},{t3:[0,S,-I]}):u===c?y.push({t3:[0,S,I]},{r3:[-w,0,0]},{t3:[0,-S,-I]}):u===z?y.push({t3:[0,0,I]},{r3:[0,w,0]},{t3:[0,0,-I]}):u===P&&y.push({t3:[0,0,I]},{r3:[w,0,0]},{t3:[0,0,-I]})),K===Y&&(u===Y?y.push({t3:[n,0,I]},{r3:[0,-w,0]},{t3:[-n,0,-I]}):u===v?y.push({t3:[n,0,-I]},{r3:[0,w,0]},{t3:[-n,0,I]}):u===R?y.push({t3:[n,-S,0]},{r3:[0,0,-w]},{t3:[-n,S,0]}):u===c?y.push({t3:[n,S,0]},{r3:[0,0,w]},{t3:[-n,-S,0]}):u===z?y.push({t3:[n,0,0]},{r3:[0,w,0]},{t3:[-n,0,0]}):u===P&&y.push({t3:[n,0,0]},{r3:[0,0,w]},{t3:[-n,0,0]})),K===v&&(u===Y?y.push({t3:[-n,0,-I]},{r3:[0,-w,0]},{t3:[n,0,I]}):u===v?y.push({t3:[-n,0,I]},{r3:[0,w,0]},{t3:[n,0,-I]}):u===R?y.push({t3:[-n,-S,0]},{r3:[0,0,w]},{t3:[n,S,0]}):u===c?y.push({t3:[-n,S,0]},{r3:[0,0,-w]},{t3:[n,-S,0]}):u===z?y.push({t3:[-n,0,0]},{r3:[0,w,0]},{t3:[n,0,0]}):u===P&&y.push({t3:[-n,0,0]},{r3:[0,0,w]},{t3:[n,0,0]})),K===R&&(u===Y?y.push({t3:[n,-S,0]},{r3:[0,0,w]},{t3:[-n,S,0]}):u===v?y.push({t3:[-n,-S,0]},{r3:[0,0,-w]},{t3:[n,S,0]}):u===R?y.push({t3:[0,-S,I]},{r3:[-w,0,0]},{t3:[0,S,-I]}):u===c?y.push({t3:[0,-S,-I]},{r3:[w,0,0]},{t3:[0,S,I]}):u===z?y.push({t3:[0,-S,0]},{r3:[0,0,w]},{t3:[0,S,0]}):u===P&&y.push({t3:[0,-S,0]},{r3:[w,0,0]},{t3:[0,S,0]})),K===c&&(u===Y?y.push({t3:[n,S,0]},{r3:[0,0,-w]},{t3:[-n,-S,0]}):u===v?y.push({t3:[-n,S,0]},{r3:[0,0,w]},{t3:[n,-S,0]}):u===R?y.push({t3:[0,S,-I]},{r3:[-w,0,0]},{t3:[0,-S,I]}):u===c?y.push({t3:[0,S,I]},{r3:[w,0,0]},{t3:[0,-S,-I]}):u===z?y.push({t3:[0,S,0]},{r3:[0,0,w]},{t3:[0,-S,0]}):u===P&&y.push({t3:[0,S,0]},{r3:[w,0,0]},{t3:[0,-S,0]})),o(y)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);